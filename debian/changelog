courier-filter-perl (0.17) unstable; urgency=low

  Debian:
  * Recommends: libmime-perl, not libmime-tools-perl.         (Closes: #297730)
  * Recommends: libio-stringy-perl (>= 2.110), libmail-spamassassin-perl,
    libarchive-zip-perl.

  Courier::Filter:
  * If socket already exists, check whether it is dead or alive.  If it is
    dead, remove it and start up normally.  If it is alive, die like before.
                                                              (Closes: #326785)
  * Ignore connections that don't send any data.

  Courier::Message:
  * Decode header text as "UTF-8" encoded, not as "utf8" encoded.  Starting
    with Perl 5.8.7, this does make a difference.  "utf8" allows invalid
    Unicode codepoints (such as UTF-16 surrogates), while "UTF-8" (the official
    standard UTF-8) doesn't.  We want to avoid invalid codepoints because they
    tend to cause trouble later.
  * Don't die on invalid characters in encoded-word chunks.  If an encoded-word
    cannot be decoded, retain it undecoded.
  * "authenticated" property: refined parsing of "Received:" header and "AUTH:"
    authentication information.
  * Added "authenticated_user" property.
  * Corrected documentation of "header" property.

  SPFout filter module:
  * Don't be pedantic about what our "public" IPv4 address is vis-à-vis the
    various recipient MXes.  Assume we just have a single public address that
    applies to all recipient MXes.  (Let's see if anyone out there actually has
    a more complex setup...)

  Parts filter module:
  * Requires libio-stringy-perl (>= 2.110), libarchive-zip-perl.

  SpamAssassin filter module:
  * Added for SpamAssassin-based spam detection.
  * Requires libmail-spamassassin-perl.

  Miscellaneous:
  * Relaxed sender IPv4 address matching in DNSBL, SPF, and SPFout filter
    modules, making the "::ffff:" IPv6 prefix optional and thus supporting
    IPv6-disabled versions of Courier.
  * Courier::Filter::Overview: Updated mention of pythonfilter from version 0.5
    to 0.8.
  * README: Added license statement.
  * Minor documentation fixes.

 -- Julian Mehnle <julian@mehnle.net>  Fri, 11 Nov 2005 03:00:00 +0000

courier-filter-perl (0.16) unstable; urgency=low

  Debian:
  * Explicitly specify the dependency on Perl 5.8 so upgrades from Woody are
    guaranteed to work smoothly and also to simplify backporting.
                                                              (Closes: #289796)
  * Recommend libnet-dns-perl.  Suggest libnet-rblclient-perl,
    libnet-address-ipv4-local-perl, and libclamav-client-perl (all of which
    are not yet packaged for Debian).

  SPF filter module:
  * Deprecated the "reject_on" option in favor of the new "match_on" option.
  * Removed "none" from the default set of result codes to match on.
  * Changed the documentation to recommend also rejecting on "unknown" results.
  * Added a reference in the documentation to the spf-draft-200406
    specification, to which this module complies.

  SPFout filter module:
  * Added for outbound SPF filtering.

  ClamAVd filter module:
  * Added for malware filtering using a ClamAV `clamd` dameon.

  Miscellaneous:
  * Updated the sample configuration file.
  * Minor documentation fixes.

 -- Julian Mehnle <julian@mehnle.net>  Mon, 17 Jan 2005 20:15:13 +0100

courier-filter-perl (0.15) unstable; urgency=low

  * Courier::Filter is primarily a plug-in for the Courier MTA, not a library
    of Perl modules intended to be used by other programs or modules.
    - Renamed package to "courier-filter-perl".
    - Install included Perl modules in the private path
      /usr/share/courier-filter-perl/perl5 instead of the standard path
      /usr/share/perl5.
  * Added liberror-perl dependency.
  * Made Build-Depends dependencies into Build-Depends-Indep (architecture
    independent) dependencies.
  * Various minor fixes.

 -- Julian Mehnle <julian@mehnle.net>  Sat, 30 Oct 2004 02:52:47 +0200

libcourier-filter-perl (0.14) unstable; urgency=low

  * Added documentation for the test-filter-module and pureperlfilter
    executables.
  * test-filter-module:
    - Fixed the command-line parsing and handling of control file names.
    - Made the result output format compatible with multi-line results.

 -- Julian Mehnle <julian@mehnle.net>  Fri, 22 Oct 2004 02:16:18 +0200

libcourier-filter-perl (0.13) unstable; urgency=low

  * Initial Debian release.
  * Deprecated the MIMEParts filter module in favor of the new Parts filter
    module, which is compatible but a lot more powerful:
    - Switched from completely-in-memory processing to using temporary files
      in order to work around two nasty bugs in MIME::Parser and
      Archive::Zip.
    - Renamed the "max_size" constructor option to "max_message_size".
      "max_size" is deprecated but still supported for now.
    - The "max_size" constructor option now defaults to 1024**2 (1MB) instead
      of undef.
    - Added the "max_part_size" constructor option.
    - Added "views" support (as constructor option and signature aspect),
      supporting "raw" and "zip" views for now.
    - Added the "encrypted" signature aspect.
  * Added Envelope filter module.
  * Added etc/pureperlfilter.conf as a default configuration file.
  * Fixed the mysterious ``Can't call method "close" on an undefined value at
    Filter.pm line 299´´ bug that caused Courier::Filter to fail starting up
    on some platforms.  (File descriptor 3 must be opened in write mode, not
    in read mode!)
  * Fixed filter module group handling:
    - Skip the rest of the current module group and treat it as an implicit
      accept if a module in the group states an explicit accept.
    - Log rejections just once, right after a module has stated a reject, i.e.
      avoid logging the rejection for all higher recursion levels of the
      module group structure that contains the rejecting module.
    - Don't try extracting a logger from filter module groups, only from
      atomic filter modules.
  * Fixed the Header filter module:
    - Fixed handling of undefined header fields.
    - Prepend a "Header:" keyword to positive match results.
  * Disabled timestamping for the Syslog logger module, as syslog does its own
    timestamping.
  * Reworked configuration file example.
  * Refined Build.PL script.
  * Lots of minor documentation fixes.

 -- Julian Mehnle <julian@mehnle.net>  Tue,  4 Oct 2004 21:42:42 +0200

libcourier-filter-perl (0.12) unstable; urgency=low

  * chmod the courierfilter socket to 0660, so the Courier daemon system group
    has write access to the socket.  This solves the "sendmail: Unable to
    submit message" permissions problem that occurred on some platforms.
  * Make Module::Build automatically create a Makefile.PL to facilitate
    auto-installation through the CPAN interface.

 -- Julian Mehnle <julian@mehnle.net>  Tue,  1 Oct 2004 21:42:42 +0200

libcourier-filter-perl (0.11) unstable; urgency=low

  * Lots of minor documentation fixes.

 -- Julian Mehnle <julian@mehnle.net>  Tue,  1 Oct 2004 21:42:42 +0200

libcourier-filter-perl (0.10) unstable; urgency=low

  * Initial Release.

 -- Julian Mehnle <julian@mehnle.net>  Mon, 26 Feb 2004 23:00:00 +0200

